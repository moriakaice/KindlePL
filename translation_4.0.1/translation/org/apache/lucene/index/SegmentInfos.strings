FindSegmentsFile
InnerClasses
FORMAT
I
ConstantValue
FORMAT_LOCKLESS
FORMAT_SINGLE_NORM_FILE
FORMAT_SHARED_DOC_STORE
FORMAT_CHECKSUM
FORMAT_DEL_COUNT
FORMAT_HAS_PROX
CURRENT_FORMAT
counter
version
J
generation
lastGeneration
infoStream
Ljava/io/PrintStream;
pendingOutput
Lorg/apache/lucene/store/ChecksumIndexOutput;
defaultGenFileRetryCount
defaultGenFileRetryPauseMsec
defaultGenLookaheadCount
<init>
()V
Code
LineNumberTable
LocalVariableTable
this
Lorg/apache/lucene/index/SegmentInfos;
info
(I)Lorg/apache/lucene/index/SegmentInfo;
i
getCurrentSegmentGeneration
([Ljava/lang/String;)J
gen
file
Ljava/lang/String;
files
[Ljava/lang/String;
max
(Lorg/apache/lucene/store/Directory;)J
directory
Lorg/apache/lucene/store/Directory;
Exceptions
getCurrentSegmentFileName
([Ljava/lang/String;)Ljava/lang/String;
(Lorg/apache/lucene/store/Directory;)Ljava/lang/String;
()Ljava/lang/String;
generationFromSegmentsFileName
(Ljava/lang/String;)J
fileName
getNextSegmentFileName
nextGeneration
read
(Lorg/apache/lucene/store/Directory;Ljava/lang/String;)V
checksumNow
checksumThen
format
segmentFileName
success
Z
input
Lorg/apache/lucene/store/ChecksumIndexInput;
(Lorg/apache/lucene/store/Directory;)V
write
t
Ljava/lang/Throwable;
output
clone
()Ljava/lang/Object;
sis
getVersion
()J
getGeneration
getLastGeneration
readCurrentVersion
setInfoStream
(Ljava/io/PrintStream;)V
setDefaultGenFileRetryCount
(I)V
count
getDefaultGenFileRetryCount
()I
setDefaultGenFileRetryPauseMsec
msec
getDefaultGenFileRetryPauseMsec
setDefaultGenLookaheadCount
getDefaultGenLookahedCount
getInfoStream
()Ljava/io/PrintStream;
message
(Ljava/lang/String;)V
range
(II)Lorg/apache/lucene/index/SegmentInfos;
first
last
infos
updateGeneration
(Lorg/apache/lucene/index/SegmentInfos;)V
other
rollbackCommit
dir
prepareCommit
finishCommit
genOutput
Lorg/apache/lucene/store/IndexOutput;
commit
segString
Lorg/apache/lucene/index/SegmentInfo;
buffer
Ljava/lang/StringBuffer;
access$000
x0
Synthetic
access$100
access$200
access$300
<clinit>
SourceFile
SegmentInfos.java
org/apache/lucene/index/SegmentInfo
segments
segments.gen
java/io/IOException
java/lang/StringBuffer
cannot read directory 
: list() returned null

java/lang/IllegalArgumentException
fileName "
" is not a segments file
org/apache/lucene/store/ChecksumIndexInput
org/apache/lucene/index/CorruptIndexException
Unknown format version: 
checksum mismatch in segments file
org/apache/lucene/index/SegmentInfos$1
org/apache/lucene/store/ChecksumIndexOutput
java/lang/Throwable
org/apache/lucene/index/SegmentInfos
org/apache/lucene/index/SegmentInfos$2
java/lang/Long
SIS [
]: 
java/lang/IllegalStateException
prepareCommit was already called
prepareCommit was not called
**
java/util/Vector
org/apache/lucene/index/SegmentInfos$FindSegmentsFile
java/lang/System
currentTimeMillis
get
(I)Ljava/lang/Object;
java/lang/String
startsWith
(Ljava/lang/String;)Z
equals
(Ljava/lang/Object;)Z
org/apache/lucene/store/Directory
list
()[Ljava/lang/String;
append
(Ljava/lang/String;)Ljava/lang/StringBuffer;
(Ljava/lang/Object;)Ljava/lang/StringBuffer;
toString
org/apache/lucene/index/IndexFileNames
fileNameFromGeneration
(Ljava/lang/String;Ljava/lang/String;J)Ljava/lang/String;
length
substring
(I)Ljava/lang/String;
parseLong
(Ljava/lang/String;I)J
clear
openInput
(Ljava/lang/String;)Lorg/apache/lucene/store/IndexInput;
(Lorg/apache/lucene/store/IndexInput;)V
readInt
(I)Ljava/lang/StringBuffer;
readLong
(Lorg/apache/lucene/store/Directory;ILorg/apache/lucene/store/IndexInput;)V
add
getFilePointer
getChecksum
close
(Lorg/apache/lucene/index/SegmentInfos;Lorg/apache/lucene/store/Directory;)V
run
createOutput
(Ljava/lang/String;)Lorg/apache/lucene/store/IndexOutput;
(Lorg/apache/lucene/store/IndexOutput;)V
writeInt
writeLong
(J)V
size
deleteFile
set
(ILjava/lang/Object;)Ljava/lang/Object;
longValue
java/lang/Thread
currentThread
()Ljava/lang/Thread;
getName
java/io/PrintStream
println
subList
(II)Ljava/util/List;
addAll
(Ljava/util/Collection;)Z
sync
org/apache/lucene/store/IndexOutput
(C)Ljava/lang/StringBuffer;
