<init>
()V
Code
LineNumberTable
LocalVariableTable
this
Lorg/apache/lucene/store/LockStressTest;
main
([Ljava/lang/String;)V
e
Ljava/lang/ClassNotFoundException;
Ljava/lang/IllegalAccessException;
Ljava/lang/InstantiationException;
Ljava/lang/ClassCastException;
Lorg/apache/lucene/store/LockObtainFailedException;
obtained
Z
args
[Ljava/lang/String;
myID
I
verifierHost
Ljava/lang/String;
verifierPort
lockFactoryClassName
lockDirName
sleepTimeMS
c
Ljava/lang/Class;
lockFactory
Lorg/apache/lucene/store/LockFactory;
lockDir
Ljava/io/File;
verifyLF
l
Lorg/apache/lucene/store/Lock;
Exceptions
SourceFile
LockStressTest.java
~~Usage: java org.apache.lucene.store.LockStressTest myID verifierHostOrIP verifierPort lockFactoryClassName lockDirName sleepTime~~~~  myID = int from 0 .. 255 (should be unique for test process)~~  verifierHostOrIP = host name or IP address where LockVerifyServer is running~~  verifierPort = port that LockVerifyServer is listening on~~  lockFactoryClassName = primary LockFactory class that we will use~~  lockDirName = path to the lock directory (only set for Simple/NativeFSLockFactory~~  sleepTimeMS = milliseconds to pause betweeen each lock obtain/release~~~~You should run multiple instances of this process, each with its own~~unique ID, and each pointing to the same lock directory, to verify~~that locking is working correctly.~~~~Make sure you are first running LockVerifyServer.~~~~
myID must be a unique int 0..255
java/lang/ClassNotFoundException
java/io/IOException
java/lang/StringBuffer
unable to find LockClass 
org/apache/lucene/store/LockFactory
java/lang/IllegalAccessException
IllegalAccessException when instantiating LockClass 
java/lang/InstantiationException
InstantiationException when instantiating LockClass 
java/lang/ClassCastException
unable to cast LockClass 
 instance to a LockFactory
java/io/File
org/apache/lucene/store/NativeFSLockFactory
org/apache/lucene/store/SimpleFSLockFactory
test
org/apache/lucene/store/VerifyingLockFactory
test.lock
org/apache/lucene/store/LockObtainFailedException
x
org/apache/lucene/store/LockStressTest
java/lang/Object
java/lang/Exception
java/lang/System
out
Ljava/io/PrintStream;
java/io/PrintStream
println
(Ljava/lang/String;)V
exit
(I)V
java/lang/Integer
parseInt
(Ljava/lang/String;)I
java/lang/Class
forName
(Ljava/lang/String;)Ljava/lang/Class;
append
(Ljava/lang/String;)Ljava/lang/StringBuffer;
toString
()Ljava/lang/String;
newInstance
()Ljava/lang/Object;
setLockDir
(Ljava/io/File;)V
setLockPrefix
(BLorg/apache/lucene/store/LockFactory;Ljava/lang/String;I)V
makeLock
(Ljava/lang/String;)Lorg/apache/lucene/store/Lock;
org/apache/lucene/store/Lock
obtain
(J)Z
print
release
java/lang/Thread
sleep
(J)V
